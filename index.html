<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="styles.css">
        <link rel="stylesheet" type="text/css" href="rewards.css">
        <link rel="icon" href="media/newlogo_transparent.png">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
        <script src="https://betterdiscord.app/js/vendor/countUp.min.js?v=DBxeQBHNMaYkRvB8uPOLm07cbQj54TDexlykb-Dcg28"></script>
        <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
        <link href='https://cdn.boxicons.com/fonts/animations.min.css' rel='stylesheet'>
        <link rel="stylesheet" href="https://github.hubspot.com/odometer/themes/odometer-theme-default.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
        <script src="js/appCore.js"></script>

        <script src="js/displayWinners.js"></script>
        <script src="js/raidNotificationTracker.js"></script>
        <script src="js/heartbeatMonitor.js"></script>
        <script src="js/liveUpdaterControls.js"></script>
        <script src="js/apiMonitor.js"></script>

        <script src="js/raidHistory.js"></script>
        <script src="js/achievements.js"></script>
        <script src="js/userSettings.js"></script>
        <script src="js/userSearch.js"></script>
        <script src="js/userProfiles.js"></script>
        <script src="js/userFriendList.js"></script>
        <script src="js/userShareProfile.js"></script>
        <script src="js/userTeams.js"></script>
        <script src="js/BPLevelCalculator.js"></script>
        <script src="js/BPRewardSystem.js"></script>

        <script src="js/navigationModals.js"></script>
        <script src="js/systemToasts.js"></script>
        <script src="js/adminCheckup.js"></script>
        <script src="js/utils.js"></script>
        <title>SPT Leaderboard</title>
    </head>

    <body>
        <header>
            <nav class="navbar animate__animated animate__fadeIn" role="navigation" aria-label="Main navigation">
                <a href="#" aria-label="Home">
                    <img src="media/newlogo_transparent.png" alt="SPT Leaderboard Logo" class="navbar-logo">
                </a>
                <div class="navbar-links-container">
                    <a href="global-weaponmeta/" class="navbar-link">Weapon Meta</a>
                    <a href="global-insights/" class="navbar-link">Global Insights</a>
                    <a href="global-achieve/" class="navbar-link">Achievement Rate</a>
                    <button id="infoButton" class="navbar-link">How it works</button>
                    <button id="tosButton" class="navbar-link">LA/TOS</button>
                    <button id="settingsButton" class="navbar-link">Settings</button>
                    <a href="https://visuals.nullcore.net/SPT/network/login/index.php" class="navbar-link navbar-link--login">Network Login</a>
                </div>
                <div class="season-selector">
                    <label for="seasonSelect" class="visually-hidden">Season:</label>
                    <select id="seasonSelect" aria-label="Select season"></select>
                </div>
            </nav>
        </header>
        <h1 style="margin-top: 180px;" class="animate__animated animate__fadeInDown">SPT Leaderboard</h1>
   <div id="welcomePopup" aria-label="Welcome Screen">
        <img class="welcome-bg-image animate__animated animate__fadeIn" src="media/TP.png" alt="Background">
        
        <div class="popup-container">
            <div class="popup-header animate__animated animate__fadeInDown">
                <h1>Welcome to SPT Leaderboard!</h1>
                <p class="animate__animated animate__fadeInUp delay-1">Track your progress, compare with other players, and compete with friends in Single Player Tarkov!</p>
            </div>
            
            <div class="features-container">
                
                <div class="feature-row">
                    <div class="feature-card animate__animated" data-animation="animate__fadeInLeft">
                        <div class="feature-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h3>Real-Time Leaderboard</h3>
                        <p>See live updates of your ranking compared to the other players of SPT community. Watch your stats, others, and get rewards as you progress.</p>
                    </div>
                    
                    <div class="feature-card animate__animated" data-animation="animate__fadeInRight">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Detailed Statistics</h3>
                        <p>Comprehensive analytics of your gameplay including K/D ratio, Survival Rate, Recent Hits, and more.</p>
                    </div>
                </div>
                
                <div class="feature-row">
                    <div class="feature-card animate__animated" data-animation="animate__fadeInLeft">
                        <div class="feature-icon">
                            <i class="fa-solid fa-hexagon-nodes"></i>
                        </div>
                        <h3>SPT Leaderboard Network</h3>
                        <p>Log-in for more than just editing your profile. Report Players, Edit your profile, Withdraw Items from your inventory and explore Tarkov Market.</p>
                    </div>
                    
                    <div class="feature-card animate__animated" data-animation="animate__fadeInRight">
                        <div class="feature-icon">
                            <i class="fa-solid fa-shop"></i>
                        </div>
                        <h3>Tarkov Market</h3>
                        <p>Earn Leaderboard Coins by playing the game - and spend the well deserved coins on external Tarkov Market which includes - Dynamic (on high demand) Pricing, Re-stocking, and arrival right into your in-game inventory.</p>
                    </div>
                </div>

                <div class="feature-row">
                    <div class="feature-card animate__animated" data-animation="animate__fadeInLeft">
                        <div class="feature-icon">
                            <i class="fas fa-history"></i>
                        </div>
                        <h3>Historical Data</h3>
                        <p>View your progress over time with historical charts and see how you've improved. Including Raid History, Hits History, All Achievements, Trader Standings and Player Model Preview along with other stats.</p>
                    </div>
                    
                    <div class="feature-card animate__animated" data-animation="animate__fadeInRight">
                        <div class="feature-icon">
                            <i class="fas fa-cog"></i>
                        </div>
                        <h3>Custom Profiles</h3>
                        <p>Personalize your Leaderboard Profile with custom banners, styles, themes, showcase your drip of your PMC and your best stats.</p>
                    </div>
                </div>

            </div>
            
            <div class="buttons-container">
                <button class="welcome-button animate__animated animate__fadeInUp delay-3" id="continueBtn">
                    <i class="fas fa-arrow-right"></i> Continue to Leaderboard
                </button>
                <button class="welcome-button animate__animated animate__fadeInUp delay-4" onclick="window.open('https://discord.gg/UrRkqwdgnd', '_blank')">
                    <i class="fab fa-discord"></i> Join our Discord
                </button>
            </div>
        </div>
    </div>
        <div id="infoModal" class="modal" aria-label="How Leaderboard Works">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Ranking System Explained</h2>
                <p>The leaderboard uses a weighted scoring system to calculate player performance across multiple metrics.</p>
                <h3>1. Leaderboard Terminology</h3>
                <ul>
                    <li><strong>KDR:</strong> Kill-to-Death Ratio (PMC Kills รท Deaths)</li>
                    <li><strong>SR:</strong> Survival Rate</li>
                </ul>
                <h3>2. Season System</h3>
                <p>Competitive cycles with unique leaderboards:</p>
                <ul>
                    <li><strong>Duration:</strong> 1-3 months per season</li>
                    <li><strong>Reset:</strong> New season automatically starts when SPT major version releases or SPT Leaderboard mod</li>
                    <li><strong>Hall of Fame:</strong> Top 3 players from previous season are shown permanently on the page</li>
                    <li><strong>Data:</strong> Full season archives in the dropdown menu</li>
                </ul>
                <h3>3. Skill Formula</h3>
                <p>Final skill score is calculated using these weighted factors:</p>
                <ul>
                    <li><strong>KDR</strong></li>
                    <li><strong>Survival Rate</strong></li>
                    <li><strong>Average Life Time</strong></li>
                    <li><strong>PMC Raids</strong></li>
                    <li><strong>This includes calibration:</strong>
                        <ul>
                            <li>Minimum 100 PMC raids required for proper skill score ranking</li>
                            <li>70% skill score penalty until player reaches 50 raids</li>
                            <li>Skill score penalty if player has very low Life Time</li>
                            <li>Penalty decreases linearly until player reaches 100 raids</li>
                        </ul>
                    </li>
                </ul>
                <h3>4. Skill Tiers</h3>
                <p>Players are classified into tiers based on final skill score:</p>
                <ul>
                    <li><strong>L- to L+:</strong> Low (0.2-0.55)</li>
                    <li><strong>M- to M+:</strong> Medium (0.55-0.78)</li>
                    <li><strong>H- to H+:</strong> High (0.78-0.94)</li>
                    <li><strong>P- to P+:</strong> Pro (0.94-99)</li>
                    <li><strong>G:</strong> Godlike (1)</li>
                </ul>
                <h3>5. Visual Indicators</h3>
                <p>Statistics are color-coded based on performance thresholds:</p>
                <ul>
                    <li><strong>KDR:</strong>
                        <span class="bad">Poor</span> (<5), <span class="average">Standard</span> (5-12), <span class="good">Skilled</span> (12-14.99), <span class="impressive">Impressive</span> (15+)
                    </li>
                    <li><strong>Raid Duration:</strong>
                        <span class="bad">Short</span> (<5m), <span class="average">Average</span> (5-15m), <span class="good">Long</span> (15-20m), <span class="impressive">Impressive</span> (20m+)
                    </li>
                </ul>
            </div>
        </div>
        <div id="tosModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Legal Agreement / Terms of Service (LA/TOS)</h2>
                <p>By submitting your statistics to the SPT Leaderboard, you agree to comply with the following Terms of Service. Violations may lead to removal from the leaderboard, profile bans, or permanent bans.</p>
                <h3>1. General Rules</h3>
                <ul>
                    <li><strong>Fair Play:</strong> Use of cheats, exploits, stat manipulation, or any attempt to deceive the system will result in a permanent ban from the leaderboard.</li>
                    <li><strong>Casual Mode:</strong> While gameplay-altering mods are allowed in Casual Mode, exploits, or any harm towards Leaderboard remain prohibited.</li>
                    <li><strong>Allowed Mods:</strong>
                        Cosmetic, weapon, AI and quality-of-life (QoL) mods are permitted. However, gameplay-altering mods (e.g., god mode, unlimited ammo, faster reload speed, extra amount of loot, radars, revival after death, debug mods, quieter environment) are strictly forbidden.
                        The SPT Leaderboard team is not obligated to maintain or publish a definitive list of banned mods.
                        Moderation decisions are based on the principle of fair play, and any mod providing a very unfair advantage or potential may lead to disqualification.
                    </li>
                    <li><strong>Profile Standing:</strong>
                        Profiles which been automatically flagged by the system for suspicious activity or abnormal statistics may be banned without the right to appeal.
                        Players are responsible for ensuring their profile complies with all rules.
                    </li>
                    <li><strong>Content Guidelines:</strong> Usernames, profile pictures (PFP), and "About Me" sections must not contain offensive, discriminatory, hateful, or NSFW content. Violations lead to disqualification or permanent ban.</li>
                </ul>
                <h3>2. Eligibility & Participation</h3>
                <p>Participation is open to all players who comply with the rules outlined in this agreement:</p>
                <ul>
                    <li><strong>Mod Policy:</strong> Any mod that provides a competitive or statistical advantage is prohibited and will result in disqualification or a permanent ban (as stated in General Rules).</li>
                    <li><strong>Multi-Account Policy:</strong> Players may link multiple accounts under the same token/identifier. However, if any of them violate the rules: All linked accounts will be held responsible and penalties (including disqualification or bans) will be applied to the entire group of accounts.</li>
                    <li><strong>Honesty:</strong> All submitted statistics must reflect genuine gameplay. Any form of falsified or edited data will result in a disqualification from leaderboard, or permanent ban.</li>
                </ul>
                <h3>3. Data Usage & Rights</h3>
                <ul>
                    <li><strong>Public Display:</strong> By submitting your data, you grant permission for it to be publicly displayed on the leaderboard. This applies to any form or state of the player profile and the data being sent to the server.</li>
                    <li><strong>Privacy & Data Collection:</strong>
                        To maintain leaderboard integrity and prevent exploits, hashed/obfuscated IP addresses may be temporarily collected solely for anti-cheat detection.
                        Hashed IPs are stored alongside user-generated tokens for no longer than 1 hour, after which they are automatically erased.
                        Only IPs flagged as malicious (e.g., brute-force attacks) are retained long-term for developer review.
                        No personally identifiable information (PII) is stored or shared. Raw/unhashed IPs are never logged or accessible.
                    </li>
                    <li><strong>Moderation:</strong>
                        Administrators reserve the right to review, modify, or remove any entries of the leaderboard at their sole discretion without prior notice.
                        Developers reserve the right to modify season duration, reset times, or scoring rules as needed.
                    </li>
                    <li><strong>Policy Updates:</strong> These Terms may be updated at any time. Continued use of the mod, leaderboard, implies acceptance of the most recent version.</li>
                </ul>
                <p><em>Last updated: July 5, 2025</em></p>
            </div>
        </div>
        <div id="settingsModal" class="modal" role="dialog" aria-labelledby="settingsTitle" aria-modal="true">
            <div class="modal-content">
                <span class="close" aria-label="Close">&times;</span>
                <h2 id="settingsTitle">Settings</h2>
                <div class="settings-list">
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="timerToggle"> Show Season Countdown Timer
                        </label>
                            <p class="setting-description">Display or hide the time left until new season on the page.</p>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="winnersToggle" checked="checked"> Show Winners on the page
                        </label>
                            <p class="setting-description">Display or hide winners of the previous season on the page.</p>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="staffToggle" checked="checked"> Show Staff Online
                        </label>
                            <p class="setting-description">Display or hide current Staff activity on the page.</p>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="muteToggle" checked="checked"> Mute all sounds
                        </label>
                            <p class="setting-description">Mute all sounds on the website</p>
                    </div>
                </div>
            </div>
        </div>
        <div id="admins-container">
            <div class="content-wrapper"></div>
            <div class="loading-overlay">
                <div class="loading-spinner"></div>
            </div>
        </div>
        <div class="top-stats-bar">
            <div class="live-data-label" id="serverStatus">Getting API Status...</div>
            <div class="stats-line">
                <div class="stats-item"><strong>Kills:</strong> <span id="totalKills" class="odometer">0</span></div>
                <div class="stats-item"><strong>Deaths:</strong> <span id="totalDeaths" class="odometer">0</span></div>
                <div class="stats-item"><strong>Raids:</strong> <span id="totalRaids" class="odometer">0</span></div>
                <div class="stats-item"><strong>Damage:</strong> <span id="totalDamage" class="odometer">0</span></div>
                <div class="stats-item"><strong>K/D:</strong> <span id="averageKDR" class="odometer">0.00</span></div>
                <div class="stats-item"><strong>Survival Rate:</strong> <span id="averageSurvival" class="odometer">0</span>%</div>
                <div class="stats-item"><strong>In Raid:</strong> <span id="totalPlayTime" class="odometer">0</span>minutes</div>
            </div>
            <div class="player-stats">
                <div class="stats-item player-count"><strong>Season Players:</strong> <span id="totalPlayers" class="odometer">0</span></div>
                <div class="stats-item online-count"><strong>Online:</strong> <span id="onlinePlayers" class="odometer">0</span></div>
            </div>
        </div>
        <div id="winners" class="animate animate__animated animate__fadeIn">
            <h2>Our previous season Champions!</h2>
            <div class="winners-container">
            </div>
        </div>
        <div class="announcement-wrapper animate animate__animated animate__fadeIn">
            <div class="announcement-icon"><img src="https://img.icons8.com/?size=256&id=61604&format=png" style="height: 70px;"></div>
            <div class="announcement-content">
                <div class="announcement-title">We've added gambling to SPTLB Network. And it was worth it.</div>
                <div class="announcement-text">
                    Tarkov Market and SPTLB Network has recieved drastic changes. More items, cases, and fixed security issues. Log in now and open them all! <a href="https://discord.gg/psV2PY8brW" target="_blank" class="announcement-link">Join our Discord Server to always stay updated</a>
                </div>
                <div class="announcement-signature">
                    โ Developer
                </div>
            </div>
        </div>
        <p id="status"></p>
        <div class="leaderboard-controls">
            <div class="search-container">
                <input type="text" id="playerSearch" placeholder="Find player..." />
                <button id="clearSearch">Clear</button>
            </div>
            <div class="controls-toolset">
                <div class="auto-update-control">
                    <label>
                        <input type="checkbox" id="autoUpdateToggle" checked /> Live Data Flow </label>
                    <span id="timeToUpdate"></span>
                </div>
            </div>
        </div>
        <table id="leaderboardTable" class="animate animate__animated animate__fadeIn">
            <thead>
                <tr>
                    <th data-sort="rank">Rank</th>
                    <th>Team</th>
                    <th data-sort="name">Name</th>
                    <th data-sort="lastPlayed">Last Seen</th>
                    <th>Profile</th>
                    <th>Standing</th>
                    <th data-sort="totalRaids">PMC/SCAV Raids</th>
                    <th data-sort="survivedToDiedRatio">SR</th>
                    <th data-sort="killToDeathRatio">KDR</th>
                    <th data-sort="averageLifeTime">Life Time</th>
                    <th data-sort="totalScore">Skill</th>
                    <th>SPT</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        <div id="seasonTimer"> Season ends in: <span id="timerDisplay"></span>
        </div>
        <div class="notification-container">
            <div id="emptyLeaderboardNotification" class="animate animate__animated animate__fadeInUp" style="display: none;">Something went wrong while we were loading leaderboard. Try reloading page.</div>
        </div>
        <div id="playerProfileModal" class="profile-modal">
            <div id="modalPlayerInfo" class="profile-modal-content">
                <!-- JS Profile -->
            </div>
        </div>
        <footer class="modern-footer">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="logo-slogan">
                        <img src="media/newlogo_transparent.png" class="footer-logo">
                        <p class="slogan">Community driven project. With dedication and love.</p>
                    </div>
                    <div class="license-info">
                        <p>ยฉ 2025 SPT Leaderboard. This service is not maintained by or associated with the SPT project or Battlestate Games.</p>
                        <p>Released under <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener">MIT License</a></p>
                    </div>
                </div>
                <div class="footer-links">
                    <ul>
                        <li><a href="https://github.com/harmonyzt/SPT-Leaderboard.github.io/issues" target="_blank" rel="noopener">Contribute</a></li>
                        <li><a href="https://github.com/harmonyzt/SPT-Leaderboard.github.io" target="_blank" rel="noopener">GitHub</a></li>
                        <li><a href="https://hub.sp-tarkov.com/files/file/2787-spt-leaderboard/" target="_blank" rel="noopener">SPTarkov Mod</a></li>
                    </ul>
                </div>
            </div>
        </footer>
        <script src="https://github.hubspot.com/odometer/odometer.js"></script>
    </body>

</html>